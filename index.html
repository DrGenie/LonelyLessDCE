<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>LonelyLessAustralia Decision Aid Tool</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
<div class="container">
  <header>
    <h1>LonelyLessAustralia Decision Aid Tool</h1>
  </header>

  <div class="tabs">
    <button class="tablink active" onclick="openTab('introTab', this)">Introduction</button>
    <button class="tablink" onclick="openTab('instructionsTab', this)">Instructions</button>
    <button class="tablink" onclick="openTab('attributesTab', this)">Attributes</button>
    <button class="tablink" onclick="openTab('inputsTab', this)">Inputs</button>
    <button class="tablink" onclick="openTab('wtpTab', this)">WTP Results</button>
    <button class="tablink" onclick="openTab('probTab', this)">Program Uptake Probability</button>
    <button class="tablink" onclick="openTab('costsTab', this)">Costs & Benefits</button>
    <button class="tablink" onclick="openTab('scenariosTab', this)">Scenarios</button>
  </div>

  <!-- Introduction Tab -->
  <div id="introTab" class="tabcontent" style="display: block;">
    <div class="intro-box">
      <p>
        Loneliness affects over five million Australians, especially older adults, leading 
        to significant health and economic challenges. This decision aid tool is based on 
        a discrete choice experiment (DCE) that identified older adults’ preferences for 
        programmes aimed at reducing loneliness in Australia. Using the DCE estimates, 
        the tool predicts programme uptake probabilities, offering personalised services 
        based on the attributes older adults consider most important.
      </p>
      <p>
        Please use the tabs above to navigate:
      </p>
      <ul>
        <li><strong>Instructions</strong> – Step-by-step guidance on using the tool.</li>
        <li><strong>Attributes</strong> – A summary of each DCE attribute.</li>
        <li><strong>Inputs</strong> – Configure your scenario attributes.</li>
        <li><strong>WTP Results</strong> – Visualise the main model’s willingness to pay in a bar chart.</li>
        <li><strong>Program Uptake Probability</strong> – See a bar chart for predicted programme uptake (main model only).</li>
        <li><strong>Costs &amp; Benefits</strong> – Overview of cost-of-living multipliers, A\$5,000 per 1% improvement, etc.</li>
        <li><strong>Scenarios</strong> – Save multiple configurations for advanced cost-benefit analysis or PDF exports.</li>
      </ul>
    </div>
  </div>

  <!-- Instructions Tab -->
  <div id="instructionsTab" class="tabcontent">
    <h2>How to Use This Tool</h2>
    <p>
      1. Read about the <strong>Attributes</strong> to understand each dimension of the programme.
    </p>
    <p>
      2. In <strong>Inputs</strong>, choose your state (if any), cost-of-living adjustments, cost per session, 
      accessibility, frequency, method of interaction, duration, and type of support. 
    </p>
    <p>
      3. Click “Calculate &amp; View Results” to open a new window with cost-benefit charts, 
      predicted programme uptake probability, and optional PDF export.
    </p>
    <p>
      4. Save your scenario under the <strong>Scenarios</strong> tab if you wish to compare 
      multiple configurations side by side.
    </p>
    <p>
      5. <strong>WTP Results</strong> shows a bar chart for the main model only.  
    </p>
    <p>
      6. <strong>Program Uptake Probability</strong> displays a bar chart for predicted 
      programme uptake under the main model, updated with your Inputs.
    </p>
    <p>
      7. <strong>Costs &amp; Benefits</strong> provides an overview of cost-of-living assumptions 
      and the A\$5,000 per 1% improvement baseline.
    </p>
  </div>

  <!-- Attributes Tab -->
  <div id="attributesTab" class="tabcontent">
    <h2>Programme Attributes</h2>
    <p><strong>Cost:</strong> The out-of-pocket fee participants pay each session.</p>
    <p><strong>Accessibility:</strong> Local area vs. wider community, factoring mobility and travel distance.</p>
    <p><strong>Frequency of Interaction:</strong> Daily reference, weekly, monthly, etc.</p>
    <p><strong>Method of Interaction:</strong> In-person, virtual-only, or hybrid (both in-person &amp; virtual).</p>
    <p><strong>Duration of Each Interaction:</strong> 30 minutes (reference), 2 hours, 4 hours, etc.</p>
    <p><strong>Type of Support Programme:</strong> Peer support, community engagement, counselling, VR, etc.</p>
  </div>

  <!-- Inputs Tab -->
  <div id="inputsTab" class="tabcontent">
    <h2>Programme Inputs</h2>
    <p>
      Configure the scenario attributes below, then click “Calculate &amp; View Results” 
      to open a new window with advanced cost-benefit charts and predicted probabilities.
    </p>
    <form onsubmit="event.preventDefault();">
      <div class="form-grid">

        <!-- State + CoL -->
        <div class="form-item">
          <label for="state_select">State:</label>
          <select id="state_select">
            <option value="">None</option>
            <option value="NSW">New South Wales (NSW)</option>
            <option value="VIC">Victoria (VIC)</option>
            <option value="QLD">Queensland (QLD)</option>
            <option value="WA">Western Australia (WA)</option>
            <option value="SA">South Australia (SA)</option>
            <option value="TAS">Tasmania (TAS)</option>
            <option value="ACT">Australian Capital Territory (ACT)</option>
            <option value="NT">Northern Territory (NT)</option>
          </select>
          <br/>
          <label for="adjustCosts">Adjust for Cost of Living?</label>
          <select id="adjustCosts">
            <option value="no">No</option>
            <option value="yes">Yes</option>
          </select>
        </div>

        <!-- Cost slider -->
        <div class="form-item">
          <label>
            Cost per Session (AUD): <span id="costLabel">50</span>
          </label>
          <input 
            type="range" 
            id="costSlider" 
            min="0" 
            max="100" 
            step="1" 
            value="50" 
            oninput="updateCostDisplay(this.value)" 
          />
        </div>

        <!-- Accessibility -->
        <div class="form-item">
          <label><input type="checkbox" id="localCheck" />Local Area (12 km)</label>
          <br/>
          <label><input type="checkbox" id="widerCheck" />Wider Community (50+ km)</label>
        </div>

        <!-- Frequency -->
        <div class="form-item">
          <label><input type="checkbox" id="weeklyCheck" />Weekly</label>
          <br/>
          <label><input type="checkbox" id="monthlyCheck" />Monthly</label>
        </div>

        <!-- Method -->
        <div class="form-item">
          <label><input type="checkbox" id="virtualCheck" />Virtual Only</label>
          <br/>
          <label><input type="checkbox" id="hybridCheck" />Hybrid (In-person &amp; Virtual)</label>
        </div>

        <!-- Duration -->
        <div class="form-item">
          <label><input type="checkbox" id="twoHCheck" />2-Hour Session</label>
          <br/>
          <label><input type="checkbox" id="fourHCheck" />4-Hour Session</label>
        </div>

        <!-- Programme Type -->
        <div class="form-item">
          <label><input type="checkbox" id="commCheck" />Community Engagement</label>
          <br/>
          <label><input type="checkbox" id="psychCheck" />Psychological Counselling</label>
          <br/>
          <label><input type="checkbox" id="vrCheck" />Virtual Reality</label>
        </div>

      </div>
      <div class="buttons-row">
        <button type="button" onclick="openSingleScenario()">Calculate &amp; View Results</button>
      </div>
    </form>
  </div>

  <!-- WTP Results Tab -->
  <div id="wtpTab" class="tabcontent">
    <h2>Willingness to Pay (WTP) Results</h2>
    <p>
      Click “Show WTP Plot” to display the bar chart illustrating the main model’s WTP for each attribute.
    </p>
    <div class="buttons-row">
      <button onclick="renderWTPChart()">Show WTP Plot</button>
    </div>
    <div class="chart-grid">
      <div class="chart-box">
        <h3>Main Model WTP</h3>
        <canvas id="wtpChartMain"></canvas>
      </div>
    </div>
  </div>

  <!-- Single Probability Plot Tab -->
  <div id="probTab" class="tabcontent">
    <h2>Program Uptake Probability</h2>
    <p>
      Click “Show Probability Plot” to compute and display a bar chart for predicted 
      programme uptake under the main model based on your current inputs.
    </p>
    <div class="buttons-row">
      <button onclick="renderProbChart()">Show Probability Plot</button>
    </div>
    <div class="chart-grid">
      <div class="chart-box">
        <h3>Main Model Probability</h3>
        <canvas id="probChartMain"></canvas>
      </div>
    </div>
  </div>

  <!-- Costs & Benefits Tab -->
  <div id="costsTab" class="tabcontent">
    <h2>Cost Components &amp; Benefits</h2>
    <p>
      This tool assumes cost-of-living multipliers by state, plus <strong>A\$5,000</strong> 
      for each 1% improvement in programme uptake. Cost components often include:
    </p>
    <ul>
      <li>Staff/Personnel</li>
      <li>Facilities &amp; Equipment</li>
      <li>Marketing &amp; Outreach</li>
      <li>Training &amp; Certification</li>
      <li>Miscellaneous Operational Expenses</li>
    </ul>
    <p>
      These provide a realistic baseline for calculating costs and benefits in this tool.
    </p>
  </div>

  <!-- Scenarios Tab -->
  <div id="scenariosTab" class="tabcontent">
    <h2>Saved Scenarios</h2>
    <p>
      Save your current scenario (from the <strong>Inputs</strong> tab), then compare multiple 
      scenarios with advanced cost-benefit charts or PDF exports.
    </p>
    <div class="buttons-row">
      <button onclick="saveScenario()">Save Current Scenario</button>
      <button onclick="openComparison()">Compare All Scenarios</button>
    </div>
    <table id="scenarioTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>State</th>
          <th>Cost Adjust?</th>
          <th>Cost (AUD)</th>
          <th>Local?</th>
          <th>Wider?</th>
          <th>Weekly?</th>
          <th>Monthly?</th>
          <th>Virtual?</th>
          <th>Hybrid?</th>
          <th>2H?</th>
          <th>4H?</th>
          <th>Comm?</th>
          <th>Psych?</th>
          <th>VR?</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <footer>
    <p>
      &copy; 2025 LonelyLessAustralia. All Rights Reserved. <br/>
      Author: Mesfin Genie, Newcastle Business School, The University of Newcastle, Australia
    </p>
  </footer>
</div>
<script src="script.js"></script>
</body>
</html>
