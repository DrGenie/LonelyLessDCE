<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>LonelyLessAustralia Decision Aid Tool</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Chart.js for charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- jsPDF for PDF generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
<div class="container">
  <header>
    <h1>LonelyLessAustralia Decision Aid Tool</h1>
  </header>

  <!-- TAB BUTTONS -->
  <div class="tabs">
    <button class="tablink active" onclick="openTab('introTab', this)">Introduction</button>
    <button class="tablink" onclick="openTab('attributesTab', this)">Attributes</button>
    <button class="tablink" onclick="openTab('inputsTab', this)">Inputs</button>
    <button class="tablink" onclick="openTab('wtpTab', this)">WTP Results</button>
    <button class="tablink" onclick="openTab('costsTab', this)">Costs & Benefits</button>
    <button class="tablink" onclick="openTab('scenariosTab', this)">Scenarios</button>
  </div>

  <!-- TAB CONTENT: INTRODUCTION -->
  <div id="introTab" class="tabcontent">
    <div class="intro-box">
      <p>
        Loneliness affects over five million Australians, especially older adults, 
        creating significant health and economic challenges. This tool uses 
        Discrete Choice Experiment (DCE) findings to help illustrate how different 
        programme attributes influence uptake decisions.
      </p>
      <p>
        <strong>Navigation:</strong>
      </p>
      <ul>
        <li><strong>Introduction</strong> – This overview page.</li>
        <li><strong>Attributes</strong> – Descriptions of each DCE attribute.</li>
        <li><strong>Inputs</strong> – Select or configure scenario attributes.</li>
        <li><strong>WTP Results</strong> – Willingness-to-pay data and references.</li>
        <li><strong>Costs & Benefits</strong> – Explanations of cost components and assumptions.</li>
        <li><strong>Scenarios</strong> – Save configurations and generate multi-window PDF reports.</li>
      </ul>
      <p>
        The <strong>Introduction</strong> tab is visible by default. To see other tabs, simply click their buttons above.
      </p>
    </div>
  </div>

  <!-- TAB CONTENT: ATTRIBUTES -->
  <div id="attributesTab" class="tabcontent">
    <h2>Programme Attributes</h2>
    <p>
      Below is a concise description of each attribute considered in the Discrete Choice Experiment:
    </p>
    <ul>
      <li><strong>Cost per Session:</strong> The out-of-pocket charge an older adult pays for each session.</li>
      <li><strong>Accessibility:</strong> Whether the programme is local (12 km) or involves wider travel (50+ km).</li>
      <li><strong>Frequency:</strong> Weekly vs. monthly sessions, with other frequencies as references in some DCEs.</li>
      <li><strong>Delivery Method:</strong> In-person, Virtual Only, or Hybrid (both in-person & virtual).</li>
      <li><strong>Duration:</strong> Session length (2 hours, 4 hours, or a reference standard like 30 min/1 hour).</li>
      <li><strong>Type of Support:</strong> Community Engagement, Psychological Counselling, Virtual Reality, etc.</li>
      <li><strong>Cost-of-Living Adjustments:</strong> Adjusting base costs by state multipliers (e.g., NSW 1.10, VIC 1.05, etc.).</li>
    </ul>
    <p>
      For further detail on how these attributes were chosen, see the original DCE design. 
      Proceed to <strong>Inputs</strong> to select them for your scenario.
    </p>
  </div>

  <!-- TAB CONTENT: INPUTS -->
  <div id="inputsTab" class="tabcontent">
    <h2>Programme Inputs</h2>
    <p>Select your desired attributes below, then click “Calculate & View Results” to open a results window.</p>

    <form id="inputsForm" onsubmit="event.preventDefault();">
      <div class="form-grid">
        <!-- State & Cost-of-Living -->
        <div class="form-item">
          <label for="state_select">State:</label>
          <select id="state_select">
            <option value="">None</option>
            <option value="NSW">New South Wales (NSW)</option>
            <option value="VIC">Victoria (VIC)</option>
            <option value="QLD">Queensland (QLD)</option>
            <option value="WA">Western Australia (WA)</option>
            <option value="SA">South Australia (SA)</option>
            <option value="TAS">Tasmania (TAS)</option>
            <option value="ACT">Australian Capital Territory (ACT)</option>
            <option value="NT">Northern Territory (NT)</option>
          </select>
          <br/>
          <label for="adjustCosts">Adjust for Cost of Living?</label>
          <select id="adjustCosts">
            <option value="no">No</option>
            <option value="yes">Yes</option>
          </select>
        </div>

        <!-- Cost Slider -->
        <div class="form-item">
          <label for="costSlider">Cost per Session (AUD): <span id="costLabel">50</span></label>
          <input 
            type="range" 
            id="costSlider" 
            min="0" max="100" 
            step="1" value="50" 
            oninput="updateCostDisplay(this.value)" 
          />
        </div>

        <!-- Accessibility -->
        <div class="form-item">
          <label><input type="checkbox" id="localCheck" />Local Area (12 km)</label>
          <br/>
          <label><input type="checkbox" id="widerCheck" />Wider Community (50+ km)</label>
        </div>

        <!-- Frequency -->
        <div class="form-item">
          <label><input type="checkbox" id="weeklyCheck" />Weekly</label>
          <br/>
          <label><input type="checkbox" id="monthlyCheck" />Monthly</label>
        </div>

        <!-- Method -->
        <div class="form-item">
          <label><input type="checkbox" id="virtualCheck" />Virtual Only</label>
          <br/>
          <label><input type="checkbox" id="hybridCheck" />Hybrid (In-Person & Virtual)</label>
        </div>

        <!-- Duration -->
        <div class="form-item">
          <label><input type="checkbox" id="twoHCheck" />2-Hour Session</label>
          <br/>
          <label><input type="checkbox" id="fourHCheck" />4-Hour Session</label>
        </div>

        <!-- Programme Type -->
        <div class="form-item">
          <label><input type="checkbox" id="commCheck" />Community Engagement</label>
          <br/>
          <label><input type="checkbox" id="psychCheck" />Psychological Counselling</label>
          <br/>
          <label><input type="checkbox" id="vrCheck" />Virtual Reality</label>
        </div>
      </div>

      <div class="buttons-row">
        <button type="button" onclick="openSingleScenario()">Calculate & View Results</button>
      </div>
    </form>
  </div>

  <!-- TAB CONTENT: WTP RESULTS -->
  <div id="wtpTab" class="tabcontent">
    <h2>Willingness to Pay (WTP) Results</h2>
    <p>
      WTP measures how much an individual is willing to pay to obtain a certain programme feature.
      The table below shows sample WTP estimates derived from the DCE model:
    </p>
    <table class="wtpTable">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Coefficient</th>
          <th>p-value</th>
          <th>Significance</th>
          <th>WTP (AUD)</th>
        </tr>
      </thead>
      <tbody id="wtpBody"></tbody>
    </table>
    <p>
      Significance levels: * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001
    </p>
  </div>

  <!-- TAB CONTENT: COSTS & BENEFITS -->
  <div id="costsTab" class="tabcontent">
    <h2>Cost Components & Benefits</h2>
    <p>
      The cost components considered in our analysis may include:
    </p>
    <ul>
      <li>Staff/Personnel Costs</li>
      <li>Facility/Equipment Costs</li>
      <li>Marketing/Outreach</li>
      <li>Training & Certification</li>
      <li>Miscellaneous Operational Expenses</li>
      <li>Cost-of-Living Adjustments by State</li>
    </ul>
    <p>
      Benefits are estimated by assigning a monetary value to each percentage-point increase 
      in programme uptake. For example, a 1% increase in uptake might yield a societal benefit 
      of 10,000 AUD, reflecting healthcare savings and improved well-being.
    </p>
    <p>
      These figures are illustrative; adjust them as needed to match your real-world estimates.
    </p>
  </div>

  <!-- TAB CONTENT: SCENARIOS -->
  <div id="scenariosTab" class="tabcontent">
    <h2>Saved Scenarios</h2>
    <p>
      After configuring your scenario in <strong>Inputs</strong> and opening the results, 
      you can save them here. Then compare multiple scenarios in another window 
      with PDF chart exports.
    </p>
    <div class="buttons-row">
      <button onclick="saveScenario()">Save Current Scenario</button>
      <button onclick="openComparison()">Compare All Scenarios</button>
    </div>
    <table id="scenarioTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>State</th>
          <th>Cost Adjust?</th>
          <th>Cost (AUD)</th>
          <th>Local?</th>
          <th>Wider?</th>
          <th>Weekly?</th>
          <th>Monthly?</th>
          <th>Virtual?</th>
          <th>Hybrid?</th>
          <th>2H?</th>
          <th>4H?</th>
          <th>Comm?</th>
          <th>Psych?</th>
          <th>VR?</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <footer>
    <p>&copy; 2025 LonelyLessAustralia. All Rights Reserved.</p>
  </footer>
</div>
<script src="script.js"></script>
</body>
</html>
