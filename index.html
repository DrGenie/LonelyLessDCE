<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>LonelyLessAustralia Decision Aid Tool</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
<div class="container">
  <header>
    <h1>LonelyLessAustralia Decision Aid Tool</h1>
  </header>

  <div class="tabs">
    <button class="tablink active" onclick="openTab('introTab', this)">Introduction</button>
    <button class="tablink" onclick="openTab('instructionsTab', this)">Instructions</button>
    <button class="tablink" onclick="openTab('attributesTab', this)">Attributes</button>
    <button class="tablink" onclick="openTab('inputsTab', this)">Inputs</button>
    <button class="tablink" onclick="openTab('wtpTab', this)">WTP Results</button>
    <button class="tablink" onclick="openTab('probTab', this)">Program Uptake Probability</button>
    <button class="tablink" onclick="openTab('costsTab', this)">Costs & Benefits</button>
    <button class="tablink" onclick="openTab('scenariosTab', this)">Scenarios</button>
  </div>

  <!-- Introduction Tab -->
  <div id="introTab" class="tabcontent" style="display: block;">
    <div class="intro-box">
      <p>
        Loneliness affects over five million Australians, especially older adults, resulting 
        in serious health and economic challenges. This decision aid tool leverages discrete 
        choice experiment (DCE) estimates to predict programme uptake probabilities, enabling 
        personalised services based on the attributes older adults deem most important.
      </p>
      <p>
        Use the tabs above to explore:
      </p>
      <ul>
        <li><strong>Instructions</strong> – Step-by-step guidance.</li>
        <li><strong>Attributes</strong> – Summaries of each DCE attribute.</li>
        <li><strong>Inputs</strong> – Configure your scenario’s cost, accessibility, etc.</li>
        <li><strong>WTP Results</strong> – Visualise bar charts for willingness to pay (A$).</li>
        <li><strong>Program Uptake Probability</strong> – Calculate a bar chart for your scenario’s predicted uptake.</li>
        <li><strong>Costs &amp; Benefits</strong> – Overview of cost-of-living assumptions and A\$5,000 per 1% improvement.</li>
        <li><strong>Scenarios</strong> – Save multiple scenarios for advanced cost-benefit charts or PDF exports.</li>
      </ul>
    </div>
  </div>

  <!-- Instructions Tab -->
  <div id="instructionsTab" class="tabcontent">
    <h2>How to Use This Tool</h2>
    <p>
      1. Check the <strong>Attributes</strong> tab to understand each dimension of the programme.
    </p>
    <p>
      2. Under <strong>Inputs</strong>, select state (if any), cost-of-living multipliers, cost per session, 
      accessibility, frequency, method, duration, and type of support.
    </p>
    <p>
      3. Click “Calculate &amp; View Results” to open a new window showing cost-benefit charts, predicted uptake, and optional PDF exports.
    </p>
    <p>
      4. You can save your scenario in the <strong>Scenarios</strong> tab to compare multiple configurations side by side.
    </p>
    <p>
      5. The <strong>WTP Results</strong> tab visualises willingness to pay (A$) for each attribute in the main DCE model.
    </p>
    <p>
      6. The <strong>Program Uptake Probability</strong> tab lets you generate a bar chart for predicted programme uptake 
      (based on your current selections).
    </p>
    <p>
      7. The <strong>Costs &amp; Benefits</strong> section highlights the A\$5,000 per 1% improvement assumption and state multipliers.
    </p>
  </div>

  <!-- Attributes Tab -->
  <div id="attributesTab" class="tabcontent">
    <h2>Programme Attributes</h2>
    <p><strong>Cost:</strong> The out-of-pocket fee participants incur each session.</p>
    <p><strong>Accessibility:</strong> Local area vs. wider community, factoring in mobility and distance.</p>
    <p><strong>Frequency of Interaction:</strong> Daily reference, weekly, monthly, etc.</p>
    <p><strong>Method of Interaction:</strong> In-person, virtual-only, or hybrid mode.</p>
    <p><strong>Duration of Each Interaction:</strong> 30 min (reference), 2 hours, 4 hours, etc.</p>
    <p><strong>Type of Support Programme:</strong> Peer support, community engagement, counselling, VR, etc.</p>
  </div>

  <!-- Inputs Tab -->
  <div id="inputsTab" class="tabcontent">
    <h2>Programme Inputs</h2>
    <p>
      Specify your scenario’s attributes. Then click “Calculate &amp; View Results” to open a separate window 
      with cost-benefit charts and predicted uptake.
    </p>
    <form onsubmit="event.preventDefault();">
      <div class="form-grid">

        <!-- State + CoL -->
        <div class="form-item">
          <label for="state_select">State:</label>
          <select id="state_select">
            <option value="">None</option>
            <option value="NSW">New South Wales (NSW)</option>
            <option value="VIC">Victoria (VIC)</option>
            <option value="QLD">Queensland (QLD)</option>
            <option value="WA">Western Australia (WA)</option>
            <option value="SA">South Australia (SA)</option>
            <option value="TAS">Tasmania (TAS)</option>
            <option value="ACT">Australian Capital Territory (ACT)</option>
            <option value="NT">Northern Territory (NT)</option>
          </select>
          <br/>
          <label for="adjustCosts">Adjust for Cost of Living?</label>
          <select id="adjustCosts">
            <option value="no">No</option>
            <option value="yes">Yes</option>
          </select>
        </div>

        <!-- Cost slider -->
        <div class="form-item">
          <label>
            Cost per Session (AUD): <span id="costLabel">50</span>
          </label>
          <input 
            type="range" 
            id="costSlider" 
            min="0" 
            max="100" 
            step="1" 
            value="50" 
            oninput="updateCostDisplay(this.value)" 
          />
        </div>

        <!-- Accessibility -->
        <div class="form-item">
          <label><input type="checkbox" id="localCheck" />Local Area (12 km)</label>
          <br/>
          <label><input type="checkbox" id="widerCheck" />Wider Community (50+ km)</label>
        </div>

        <!-- Frequency -->
        <div class="form-item">
          <label><input type="checkbox" id="weeklyCheck" />Weekly</label>
          <br/>
          <label><input type="checkbox" id="monthlyCheck" />Monthly</label>
        </div>

        <!-- Method -->
        <div class="form-item">
          <label><input type="checkbox" id="virtualCheck" />Virtual Only</label>
          <br/>
          <label><input type="checkbox" id="hybridCheck" />Hybrid (In-person &amp; Virtual)</label>
        </div>

        <!-- Duration -->
        <div class="form-item">
          <label><input type="checkbox" id="twoHCheck" />2-Hour Session</label>
          <br/>
          <label><input type="checkbox" id="fourHCheck" />4-Hour Session</label>
        </div>

        <!-- Programme Type -->
        <div class="form-item">
          <label><input type="checkbox" id="commCheck" />Community Engagement</label>
          <br/>
          <label><input type="checkbox" id="psychCheck" />Psychological Counselling</label>
          <br/>
          <label><input type="checkbox" id="vrCheck" />Virtual Reality</label>
        </div>

      </div>
      <div class="buttons-row">
        <button type="button" onclick="openSingleScenario()">Calculate &amp; View Results</button>
      </div>
    </form>
  </div>

  <!-- WTP Results Tab -->
  <div id="wtpTab" class="tabcontent">
    <h2>Willingness to Pay (WTP) Results</h2>
    <p>
      Click “Show WTP Plot” to view the bar chart summarising the main model’s WTP for each attribute.
    </p>
    <div class="buttons-row">
      <button onclick="renderWTPChart()">Show WTP Plot</button>
    </div>
    <div class="chart-grid">
      <div class="chart-box">
        <h3>WTP (A$)</h3>
        <canvas id="wtpChartMain"></canvas>
      </div>
    </div>
  </div>

  <!-- Single Probability Plot Tab -->
  <div id="probTab" class="tabcontent">
    <h2>Program Uptake Probability</h2>
    <p>
      Click “Show Probability Plot” to recalculate and display a bar chart for predicted 
      programme uptake under the main model.
    </p>
    <div class="buttons-row">
      <button onclick="renderProbChart()">Show Probability Plot</button>
    </div>
    <div class="chart-grid">
      <div class="chart-box">
        <h3>Program Uptake Probability</h3>
        <canvas id="probChartMain"></canvas>
      </div>
    </div>
  </div>

  <!-- Costs & Benefits Tab -->
  <div id="costsTab" class="tabcontent">
    <h2>Cost Components &amp; Benefits</h2>
    <p>
      This tool assumes a <strong>A\$5,000</strong> benefit for every 1% improvement in programme uptake, 
      along with cost-of-living multipliers if the user chooses. Costs typically include staff, 
      facilities, marketing, etc.
    </p>
  </div>

  <!-- Scenarios Tab -->
  <div id="scenariosTab" class="tabcontent">
    <h2>Saved Scenarios</h2>
    <p>
      You can save your current scenario under <strong>Inputs</strong> and then compare multiple 
      scenarios with advanced cost-benefit charts or PDF exports.
    </p>
    <div class="buttons-row">
      <button onclick="saveScenario()">Save Current Scenario</button>
      <button onclick="openComparison()">Compare All Scenarios</button>
    </div>
    <table id="scenarioTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>State</th>
          <th>Cost Adjust?</th>
          <th>Cost (AUD)</th>
          <th>Local?</th>
          <th>Wider?</th>
          <th>Weekly?</th>
          <th>Monthly?</th>
          <th>Virtual?</th>
          <th>Hybrid?</th>
          <th>2H?</th>
          <th>4H?</th>
          <th>Comm?</th>
          <th>Psych?</th>
          <th>VR?</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <footer>
    <p>
      &copy; 2025 LonelyLessAustralia. All Rights Reserved. <br/>
      Author: Mesfin Genie, Newcastle Business School, The University of Newcastle, Australia
    </p>
  </footer>
</div>
<script src="script.js"></script>
</body>
</html>
