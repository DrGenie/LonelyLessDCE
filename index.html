<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>LonelyLessAustralia Decision Aid Tool</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Chart.js for charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- jsPDF for PDF generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
<div class="container">
  <header>
    <h1>LonelyLessAustralia Decision Aid Tool</h1>
  </header>

  <!-- TAB BUTTONS -->
  <div class="tabs">
    <button class="tablink active" onclick="openTab('introTab', this)">Introduction</button>
    <button class="tablink" onclick="openTab('attributesTab', this)">Attributes</button>
    <button class="tablink" onclick="openTab('inputsTab', this)">Inputs</button>
    <button class="tablink" onclick="openTab('wtpTab', this)">WTP Results</button>
    <button class="tablink" onclick="openTab('costsTab', this)">Costs & Benefits</button>
    <button class="tablink" onclick="openTab('scenariosTab', this)">Scenarios</button>
  </div>

  <!-- TAB CONTENT: INTRODUCTION -->
  <div id="introTab" class="tabcontent">
    <div class="intro-box">
      <p>
        Loneliness affects over five million Australians, especially older adults, leading 
        to significant health and economic challenges. This online decision aid tool was 
        developed from a discrete choice experiment that identified older adults’ preferences 
        for programmes designed to reduce loneliness in Australia. Utilising the DCE’s insights 
        and estimates, the tool predicts the probability of uptake for different programme 
        packages, enabling personalised support services based on key factors older adults 
        consider when seeking support.
      </p>
      <p>
        The loneliness categories used here were derived from the widely validated 
        <em>De Jong Gierveld Loneliness Scale</em> (11-item version), designed to measure both 
        emotional and social loneliness. A total loneliness score was calculated as the sum of 
        emotional and social loneliness scores, reflecting an individual’s overall level of 
        loneliness. Following the established methodology of the De Jong Gierveld scale, the 
        total loneliness score was categorised into three distinct levels—Not Lonely, 
        Moderately Lonely, and Severely Lonely. This categorisation provides insights into how 
        preferences for interventions vary with the severity of loneliness.
      </p>
      <p>
        You can navigate using the tabs above:
      </p>
      <ul>
        <li><strong>Attributes</strong> – Descriptions of DCE attributes.</li>
        <li><strong>Inputs</strong> – Select your scenario attributes.</li>
        <li><strong>WTP Results</strong> – See willingness-to-pay estimates for the main model and by loneliness category.</li>
        <li><strong>Costs & Benefits</strong> – Learn about cost components and benefit assumptions.</li>
        <li><strong>Scenarios</strong> – Save and compare multiple configurations, generate PDF reports, etc.</li>
      </ul>
    </div>
  </div>

  <!-- TAB CONTENT: ATTRIBUTES -->
  <div id="attributesTab" class="tabcontent">
    <h2>Programme Attributes</h2>
    <p><strong>Cost:</strong> This refers to the out-of-pocket cost participants will incur each time they participate in the support programme.</p>
    <p><strong>Accessibility:</strong> This refers to the ease of accessing the programme, considering physical mobility and transportation.</p>
    <p><strong>Frequency of Interaction:</strong> This refers to how often individuals will participate in the programme.</p>
    <p><strong>Method of Interaction:</strong> This refers to how individuals prefer to connect, catering to those who may have mobility issues or prefer digital communication.</p>
    <p><strong>Duration of Each Interaction:</strong> This refers to the length of each interaction or activity.</p>
    <p><strong>Type of Support Programme:</strong> This refers to how participants connect with others and what kinds of activities they might do together.</p>
    <p>
      Cost-of-living adjustments may apply, based on the user’s selected state. Please proceed to 
      <strong>Inputs</strong> to configure your desired scenario attributes.
    </p>
  </div>

  <!-- TAB CONTENT: INPUTS -->
  <div id="inputsTab" class="tabcontent">
    <h2>Programme Inputs</h2>
    <p>Select your desired attributes below, then click “Calculate & View Results” to open a results window with predicted probabilities, cost-benefit outcomes, etc.</p>

    <form id="inputsForm" onsubmit="event.preventDefault();">
      <div class="form-grid">
        <!-- State & Cost-of-Living -->
        <div class="form-item">
          <label for="state_select">State:</label>
          <select id="state_select">
            <option value="">None</option>
            <option value="NSW">New South Wales (NSW)</option>
            <option value="VIC">Victoria (VIC)</option>
            <option value="QLD">Queensland (QLD)</option>
            <option value="WA">Western Australia (WA)</option>
            <option value="SA">South Australia (SA)</option>
            <option value="TAS">Tasmania (TAS)</option>
            <option value="ACT">Australian Capital Territory (ACT)</option>
            <option value="NT">Northern Territory (NT)</option>
          </select>
          <br/>
          <label for="adjustCosts">Adjust for Cost of Living?</label>
          <select id="adjustCosts">
            <option value="no">No</option>
            <option value="yes">Yes</option>
          </select>
        </div>

        <!-- Cost Slider -->
        <div class="form-item">
          <label for="costSlider">Cost per Session (AUD): <span id="costLabel">50</span></label>
          <input 
            type="range" 
            id="costSlider" 
            min="0" max="100" 
            step="1" value="50" 
            oninput="updateCostDisplay(this.value)" 
          />
        </div>

        <!-- Accessibility -->
        <div class="form-item">
          <label><input type="checkbox" id="localCheck" />Local Area (12 km)</label>
          <br/>
          <label><input type="checkbox" id="widerCheck" />Wider Community (50+ km)</label>
        </div>

        <!-- Frequency -->
        <div class="form-item">
          <label><input type="checkbox" id="weeklyCheck" />Weekly</label>
          <br/>
          <label><input type="checkbox" id="monthlyCheck" />Monthly</label>
        </div>

        <!-- Method -->
        <div class="form-item">
          <label><input type="checkbox" id="virtualCheck" />Virtual Only</label>
          <br/>
          <label><input type="checkbox" id="hybridCheck" />Hybrid (In-Person & Virtual)</label>
        </div>

        <!-- Duration -->
        <div class="form-item">
          <label><input type="checkbox" id="twoHCheck" />2-Hour Session</label>
          <br/>
          <label><input type="checkbox" id="fourHCheck" />4-Hour Session</label>
        </div>

        <!-- Programme Type -->
        <div class="form-item">
          <label><input type="checkbox" id="commCheck" />Community Engagement</label>
          <br/>
          <label><input type="checkbox" id="psychCheck" />Psychological Counselling</label>
          <br/>
          <label><input type="checkbox" id="vrCheck" />Virtual Reality</label>
        </div>
      </div>

      <div class="buttons-row">
        <button type="button" onclick="openSingleScenario()">Calculate & View Results</button>
      </div>
    </form>
  </div>

  <!-- TAB CONTENT: WTP RESULTS -->
  <div id="wtpTab" class="tabcontent">
    <h2>Willingness to Pay (WTP) Results</h2>
    <p>
      WTP measures how much an individual is willing to pay to obtain a particular programme feature. 
      Below are example WTP estimates for both the <strong>Main Model</strong> and results by 
      loneliness category (<strong>Not Lonely</strong>, <strong>Moderately Lonely</strong>, and <strong>Severely Lonely</strong>).
    </p>

    <!-- Main Model WTP -->
    <h3>Main Model</h3>
    <table class="wtpTable">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Coefficient</th>
          <th>p-value</th>
          <th>Significance</th>
          <th>WTP (AUD)</th>
        </tr>
      </thead>
      <tbody id="wtpBodyMain"></tbody>
    </table>

    <!-- By Categories (Not Lonely, Moderately Lonely, Severely Lonely) -->
    <h3>Not Lonely</h3>
    <table class="wtpTable">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Coefficient</th>
          <th>p-value</th>
          <th>Significance</th>
          <th>WTP (AUD)</th>
        </tr>
      </thead>
      <tbody id="wtpBodyNotLonely"></tbody>
    </table>

    <h3>Moderately Lonely</h3>
    <table class="wtpTable">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Coefficient</th>
          <th>p-value</th>
          <th>Significance</th>
          <th>WTP (AUD)</th>
        </tr>
      </thead>
      <tbody id="wtpBodyModLonely"></tbody>
    </table>

    <h3>Severely Lonely</h3>
    <table class="wtpTable">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Coefficient</th>
          <th>p-value</th>
          <th>Significance</th>
          <th>WTP (AUD)</th>
        </tr>
      </thead>
      <tbody id="wtpBodySevLonely"></tbody>
    </table>

    <p>
      Significance levels: * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001
    </p>
  </div>

  <!-- TAB CONTENT: COSTS & BENEFITS -->
  <div id="costsTab" class="tabcontent">
    <h2>Cost Components & Benefits</h2>
    <p>
      The cost components considered in our analysis may include:
    </p>
    <ul>
      <li>Staff/Personnel Costs</li>
      <li>Facility/Equipment Costs</li>
      <li>Marketing/Outreach</li>
      <li>Training & Certification</li>
      <li>Miscellaneous Operational Expenses</li>
      <li>Cost-of-Living Adjustments by State</li>
    </ul>
    <p>
      Benefits are estimated by assigning a monetary value to each percentage-point increase 
      in programme uptake (for instance, 10,000 AUD per 1% uptake).
    </p>
    <p>
      These figures are indicative; in practice, they should be tailored to the specific 
      economic context and validated data.
    </p>
  </div>

  <!-- TAB CONTENT: SCENARIOS -->
  <div id="scenariosTab" class="tabcontent">
    <h2>Saved Scenarios</h2>
    <p>
      After configuring your scenario in <strong>Inputs</strong> and viewing the results, 
      you can save it here. Then compare multiple scenarios in another window with 
      PDF chart exports.
    </p>
    <div class="buttons-row">
      <button onclick="saveScenario()">Save Current Scenario</button>
      <button onclick="openComparison()">Compare All Scenarios</button>
    </div>
    <table id="scenarioTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>State</th>
          <th>Cost Adjust?</th>
          <th>Cost (AUD)</th>
          <th>Local?</th>
          <th>Wider?</th>
          <th>Weekly?</th>
          <th>Monthly?</th>
          <th>Virtual?</th>
          <th>Hybrid?</th>
          <th>2H?</th>
          <th>4H?</th>
          <th>Comm?</th>
          <th>Psych?</th>
          <th>VR?</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <footer>
    <p>&copy; 2025 LonelyLessAustralia. All Rights Reserved.</p>
  </footer>
</div>

<script src="script.js"></script>
</body>
</html>
