<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LonelyLess - Cost-Benefit Analysis Tool</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- jsPDF CDN for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>LonelyLess - Cost-Benefit Analysis Tool</h1>
        <p style="text-align:center; margin-bottom: 20px;">
            Welcome to the LonelyLess tool! This application helps you analyze the cost-effectiveness of various support programs aimed at reducing loneliness among older adults. Please fill out the form below to calculate the predicted probability of program uptake and assess its economic viability.
        </p>
        <form id="decisionForm">
            <!-- State Selection -->
            <div class="form-group">
                <label for="state_select">Select State:</label>
                <select id="state_select" required>
                    <option value="">--Select State--</option>
                    <option value="NSW">New South Wales (NSW)</option>
                    <option value="VIC">Victoria (VIC)</option>
                    <option value="QLD">Queensland (QLD)</option>
                    <option value="WA">Western Australia (WA)</option>
                    <option value="SA">South Australia (SA)</option>
                    <option value="TAS">Tasmania (TAS)</option>
                    <option value="ACT">Australian Capital Territory (ACT)</option>
                    <option value="NT">Northern Territory (NT)</option>
                </select>
            </div>
            <!-- Adjust Costs for Living Expenses -->
            <div class="form-group">
                <label for="adjust_costs">Adjust Costs for Living Expenses:</label>
                <select id="adjust_costs" required>
                    <option value="">--Select Option--</option>
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
            </div>
            <!-- Cost Continuum -->
            <div class="form-group">
                <label for="cost_cont">Cost Continuum (1-5):</label>
                <input type="number" id="cost_cont" min="1" max="5" value="3" required>
            </div>
            <!-- Accessibility Options -->
            <div class="form-group">
                <label for="dist_local">Local Area Accessibility (up to 12 km travel):</label>
                <select id="dist_local" required>
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                </select>
            </div>
            <div class="form-group">
                <label for="dist_signif">Wider Community Accessibility (50+ km travel):</label>
                <select id="dist_signif" required>
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                </select>
            </div>
            <!-- Frequency Options -->
            <div class="form-group">
                <label for="freq_weekly">Frequency - Weekly:</label>
                <select id="freq_weekly" required>
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                </select>
            </div>
            <div class="form-group">
                <label for="freq_monthly">Frequency - Monthly:</label>
                <select id="freq_monthly" required>
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                </select>
            </div>
            <!-- Mode Options -->
            <div class="form-group">
                <label for="mode_virtual">Mode - Virtual:</label>
                <select id="mode_virtual" required>
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                </select>
            </div>
            <div class="form-group">
                <label for="mode_hybrid">Mode - Hybrid (Virtual and In-Person):</label>
                <select id="mode_hybrid" required>
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                </select>
            </div>
            <!-- Duration Options -->
            <div class="form-group">
                <label for="dur_2hrs">Duration - 2 Hours:</label>
                <select id="dur_2hrs" required>
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                </select>
            </div>
            <div class="form-group">
                <label for="dur_4hrs">Duration - 4 Hours:</label>
                <select id="dur_4hrs" required>
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                </select>
            </div>
            <!-- Program Type Options -->
            <div class="form-group">
                <label for="type_comm">Program Type - Community Engagement:</label>
                <select id="type_comm" required>
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                </select>
            </div>
            <div class="form-group">
                <label for="type_psych">Program Type - Psychological Counselling:</label>
                <select id="type_psych" required>
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                </select>
            </div>
            <div class="form-group">
                <label for="type_vr">Program Type - Virtual Reality:</label>
                <select id="type_vr" required>
                    <option value="0">No</option>
                    <option value="1">Yes</option>
                </select>
            </div>
            <!-- Submit Button -->
            <div class="form-group" style="width: 100%; text-align: center;">
                <button type="button" onclick="calculateProbability()">Calculate Predicted Probability of Uptake</button>
            </div>
        </form>
        
        <!-- Tabs for Results -->
        <div class="tabs">
            <div class="tab-buttons">
                <button class="tab-button active" onclick="openTab(event, 'Pooled')">Pooled Results</button>
                <button class="tab-button" onclick="openTab(event, 'Categories')">Results by Loneliness Category</button>
                <button class="tab-button" onclick="openTab(event, 'WTP')">Willingness To Pay (WTP)</button>
            </div>
            <!-- Pooled Results Tab -->
            <div id="Pooled" class="tab-content active">
                <div class="chart-container">
                    <canvas id="pooledProbabilityChart" aria-label="Doughnut chart showing pooled uptake probability" role="img"></canvas>
                </div>
                <div class="result-section">
                    <h3>Interpretation:</h3>
                    <p id="pooledInterpretation">--</p>
                </div>
                <div class="result-section">
                    <h3>Your Selected Program Package:</h3>
                    <ul id="pooledPackageList">
                        <!-- Selected attributes will be listed here -->
                    </ul>
                    <button id="downloadPooledPackageBtn" onclick="downloadPackage('pooled')" style="display: none;" aria-label="Download Pooled Program Package">Download Program Package</button>
                </div>
                <div class="result-section">
                    <h3>Cost Analysis:</h3>
                    <ul id="pooledCostList">
                        <!-- Cost components will be listed here -->
                    </ul>
                    <p><strong>Total Estimated Cost:</strong> <span id="pooledTotalCost">--</span> AUD</p>
                    <button id="downloadPooledCBAReportBtn" onclick="downloadCBAPDF('pooled')" style="display: none;" aria-label="Download Pooled Cost-Benefit Analysis Report as PDF">Download CBA Report as PDF</button>
                </div>
                <div class="result-section">
                    <h3>Benefit Analysis:</h3>
                    <p><strong>Total Estimated Benefits:</strong> <span id="pooledBenefits">--</span> AUD</p>
                </div>
                <div class="result-section">
                    <h3>Cost-Benefit Analysis:</h3>
                    <p><strong>Net Benefit:</strong> <span id="pooledNetBenefit">--</span> AUD</p>
                    <p><strong>Benefit-Cost Ratio:</strong> <span id="pooledBCR">--</span></p>
                </div>
                <div class="chart-container">
                    <canvas id="pooledCBAChart" aria-label="Bar chart showing pooled Cost-Benefit Analysis" role="img"></canvas>
                </div>
                <div class="chart-container">
                    <canvas id="pooledWTPChart" aria-label="Bar chart showing pooled Willingness To Pay" role="img"></canvas>
                </div>
            </div>
            <!-- Results by Loneliness Category Tab -->
            <div id="Categories" class="tab-content">
                <!-- Not Lonely Section -->
                <div class="result-section">
                    <h2>Not Lonely</h2>
                    <div class="chart-container">
                        <canvas id="NotLonelyProbabilityChart" aria-label="Doughnut chart showing uptake probability for Not Lonely category" role="img"></canvas>
                    </div>
                    <h3>Interpretation:</h3>
                    <p id="NotLonelyInterpretation">--</p>
                    <h3>Your Selected Program Package:</h3>
                    <ul id="NotLonelyPackageList">
                        <!-- Selected attributes will be listed here -->
                    </ul>
                    <button id="downloadNotLonelyPackageBtn" onclick="downloadPackage('NotLonely')" style="display: none;" aria-label="Download Not Lonely Program Package">Download Program Package</button>
                    <h3>Cost Analysis:</h3>
                    <ul id="NotLonelyCostList">
                        <!-- Cost components will be listed here -->
                    </ul>
                    <p><strong>Total Estimated Cost:</strong> <span id="NotLonelyTotalCost">--</span> AUD</p>
                    <button id="downloadNotLonelyCBAReportBtn" onclick="downloadCBAPDF('NotLonely')" style="display: none;" aria-label="Download Not Lonely Cost-Benefit Analysis Report as PDF">Download CBA Report as PDF</button>
                    <div class="result-section">
                        <h3>Benefit Analysis:</h3>
                        <p><strong>Total Estimated Benefits:</strong> <span id="NotLonelyBenefits">--</span> AUD</p>
                    </div>
                    <div class="result-section">
                        <h3>Cost-Benefit Analysis:</h3>
                        <p><strong>Net Benefit:</strong> <span id="NotLonelyNetBenefit">--</span> AUD</p>
                        <p><strong>Benefit-Cost Ratio:</strong> <span id="NotLonelyBCR">--</span></p>
                    </div>
                    <div class="chart-container">
                        <canvas id="NotLonelyCBAChart" aria-label="Bar chart showing Cost-Benefit Analysis for Not Lonely category" role="img"></canvas>
                    </div>
                    <div class="chart-container">
                        <canvas id="NotLonelyWTPChart" aria-label="Bar chart showing Willingness To Pay for Not Lonely category" role="img"></canvas>
                    </div>
                </div>
                <!-- Moderately Lonely Section -->
                <div class="result-section">
                    <h2>Moderately Lonely</h2>
                    <div class="chart-container">
                        <canvas id="ModeratelyLonelyProbabilityChart" aria-label="Doughnut chart showing uptake probability for Moderately Lonely category" role="img"></canvas>
                    </div>
                    <h3>Interpretation:</h3>
                    <p id="ModeratelyLonelyInterpretation">--</p>
                    <h3>Your Selected Program Package:</h3>
                    <ul id="ModeratelyLonelyPackageList">
                        <!-- Selected attributes will be listed here -->
                    </ul>
                    <button id="downloadModeratelyLonelyPackageBtn" onclick="downloadPackage('ModeratelyLonely')" style="display: none;" aria-label="Download Moderately Lonely Program Package">Download Program Package</button>
                    <h3>Cost Analysis:</h3>
                    <ul id="ModeratelyLonelyCostList">
                        <!-- Cost components will be listed here -->
                    </ul>
                    <p><strong>Total Estimated Cost:</strong> <span id="ModeratelyLonelyTotalCost">--</span> AUD</p>
                    <button id="downloadModeratelyLonelyCBAReportBtn" onclick="downloadCBAPDF('ModeratelyLonely')" style="display: none;" aria-label="Download Moderately Lonely Cost-Benefit Analysis Report as PDF">Download CBA Report as PDF</button>
                    <div class="result-section">
                        <h3>Benefit Analysis:</h3>
                        <p><strong>Total Estimated Benefits:</strong> <span id="ModeratelyLonelyBenefits">--</span> AUD</p>
                    </div>
                    <div class="result-section">
                        <h3>Cost-Benefit Analysis:</h3>
                        <p><strong>Net Benefit:</strong> <span id="ModeratelyLonelyNetBenefit">--</span> AUD</p>
                        <p><strong>Benefit-Cost Ratio:</strong> <span id="ModeratelyLonelyBCR">--</span></p>
                    </div>
                    <div class="chart-container">
                        <canvas id="ModeratelyLonelyCBAChart" aria-label="Bar chart showing Cost-Benefit Analysis for Moderately Lonely category" role="img"></canvas>
                    </div>
                    <div class="chart-container">
                        <canvas id="ModeratelyLonelyWTPChart" aria-label="Bar chart showing Willingness To Pay for Moderately Lonely category" role="img"></canvas>
                    </div>
                </div>
                <!-- Severely Lonely Section -->
                <div class="result-section">
                    <h2>Severely Lonely</h2>
                    <div class="chart-container">
                        <canvas id="SeverelyLonelyProbabilityChart" aria-label="Doughnut chart showing uptake probability for Severely Lonely category" role="img"></canvas>
                    </div>
                    <h3>Interpretation:</h3>
                    <p id="SeverelyLonelyInterpretation">--</p>
                    <h3>Your Selected Program Package:</h3>
                    <ul id="SeverelyLonelyPackageList">
                        <!-- Selected attributes will be listed here -->
                    </ul>
                    <button id="downloadSeverelyLonelyPackageBtn" onclick="downloadPackage('SeverelyLonely')" style="display: none;" aria-label="Download Severely Lonely Program Package">Download Program Package</button>
                    <h3>Cost Analysis:</h3>
                    <ul id="SeverelyLonelyCostList">
                        <!-- Cost components will be listed here -->
                    </ul>
                    <p><strong>Total Estimated Cost:</strong> <span id="SeverelyLonelyTotalCost">--</span> AUD</p>
                    <button id="downloadSeverelyLonelyCBAReportBtn" onclick="downloadCBAPDF('SeverelyLonely')" style="display: none;" aria-label="Download Severely Lonely Cost-Benefit Analysis Report as PDF">Download CBA Report as PDF</button>
                    <div class="result-section">
                        <h3>Benefit Analysis:</h3>
                        <p><strong>Total Estimated Benefits:</strong> <span id="SeverelyLonelyBenefits">--</span> AUD</p>
                    </div>
                    <div class="result-section">
                        <h3>Cost-Benefit Analysis:</h3>
                        <p><strong>Net Benefit:</strong> <span id="SeverelyLonelyNetBenefit">--</span> AUD</p>
                        <p><strong>Benefit-Cost Ratio:</strong> <span id="SeverelyLonelyBCR">--</span></p>
                    </div>
                    <div class="chart-container">
                        <canvas id="SeverelyLonelyCBAChart" aria-label="Bar chart showing Cost-Benefit Analysis for Severely Lonely category" role="img"></canvas>
                    </div>
                    <div class="chart-container">
                        <canvas id="SeverelyLonelyWTPChart" aria-label="Bar chart showing Willingness To Pay for Severely Lonely category" role="img"></canvas>
                    </div>
                </div>
            </div>
            <!-- WTP Tab -->
            <div id="WTP" class="tab-content">
                <div class="result-section">
                    <h2>Main WTP</h2>
                    <div class="chart-container">
                        <canvas id="pooledWTPChart" aria-label="Bar chart showing WTP for Pooled Results" role="img"></canvas>
                    </div>
                    <h3>Willingness To Pay:</h3>
                    <p><strong>Main WTP:</strong> <span id="pooledWTP">--</span> AUD</p>
                </div>
                <div class="result-section">
                    <h2>WTP by Loneliness Category</h2>
                    <!-- Not Lonely WTP -->
                    <h3>Not Lonely</h3>
                    <p><strong>WTP:</strong> <span id="NotLonelyWTP">--</span> AUD</p>
                    <div class="chart-container">
                        <canvas id="NotLonelyWTPChart" aria-label="Bar chart showing WTP for Not Lonely category" role="img"></canvas>
                    </div>
                    <!-- Moderately Lonely WTP -->
                    <h3>Moderately Lonely</h3>
                    <p><strong>WTP:</strong> <span id="ModeratelyLonelyWTP">--</span> AUD</p>
                    <div class="chart-container">
                        <canvas id="ModeratelyLonelyWTPChart" aria-label="Bar chart showing WTP for Moderately Lonely category" role="img"></canvas>
                    </div>
                    <!-- Severely Lonely WTP -->
                    <h3>Severely Lonely</h3>
                    <p><strong>WTP:</strong> <span id="SeverelyLonelyWTP">--</span> AUD</p>
                    <div class="chart-container">
                        <canvas id="SeverelyLonelyWTPChart" aria-label="Bar chart showing WTP for Severely Lonely category" role="img"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <footer>
            <p>by Mesfin Genie, The University of Newcastle, Australia</p>
        </footer>
        <script src="script.js" defer></script>
    </body>
</html>
